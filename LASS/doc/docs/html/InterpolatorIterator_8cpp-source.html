<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LASS: InterpolatorIterator.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>InterpolatorIterator.cpp</h1><a href="InterpolatorIterator_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">LASS (additive sound synthesis library)</span>
00003 <span class="comment">Copyright (C) 2005  Sever Tipei (s-tipei@uiuc.edu)</span>
00004 <span class="comment"></span>
00005 <span class="comment">This program is free software; you can redistribute it and/or</span>
00006 <span class="comment">modify it under the terms of the GNU General Public License</span>
00007 <span class="comment">as published by the Free Software Foundation; either version 2</span>
00008 <span class="comment">of the License, or (at your option) any later version.</span>
00009 <span class="comment"></span>
00010 <span class="comment">This program is distributed in the hope that it will be useful,</span>
00011 <span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00012 <span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00013 <span class="comment">GNU General Public License for more details.</span>
00014 <span class="comment"></span>
00015 <span class="comment">You should have received a copy of the GNU General Public License</span>
00016 <span class="comment">along with this program; if not, write to the Free Software</span>
00017 <span class="comment">Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span>
00018 <span class="comment">*/</span>
00019 
00020 <span class="comment">//----------------------------------------------------------------------------//</span>
00021 <span class="comment">//</span>
00022 <span class="comment">//      InterpolatorIterator.cpp</span>
00023 <span class="comment">//</span>
00024 <span class="comment">//----------------------------------------------------------------------------//</span>
00025 
00026 <span class="preprocessor">#ifndef __INTERPOLATOR_ITERATOR_CPP</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#define __INTERPOLATOR_ITERATOR_CPP</span>
00028 <span class="preprocessor"></span>
00029 <span class="comment">//----------------------------------------------------------------------------//</span>
00030 
00031 <span class="preprocessor">#include &lt;math.h&gt;</span>
00032 <span class="preprocessor">#include "<a class="code" href="InterpolatorIterator_8h.html">InterpolatorIterator.h</a>"</span>
00033 
00034 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00035"></a><a class="code" href="classInterpolatorIterator.html#a0">00035</a> <a class="code" href="classInterpolatorIterator.html#a0">InterpolatorIterator::InterpolatorIterator</a>()
00036     :stepsLeft_(0)
00037 {
00038 }
00039 
00040 
00041 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00042"></a><a class="code" href="classInterpolatorIterator.html#a1">00042</a> <span class="keywordtype">void</span> <a class="code" href="classInterpolatorIterator.html#a1">InterpolatorIterator::append</a>(<a class="code" href="Types_8h.html#a2">m_time_type</a> t_from, <a class="code" href="Types_8h.html#a2">m_time_type</a> t_to, <a class="code" href="Types_8h.html#a3">m_value_type</a> v_from, <a class="code" href="Types_8h.html#a3">m_value_type</a> v_to, <a class="code" href="Types_8h.html#a1">m_sample_count_type</a> steps)
00043 {
00044     <a class="code" href="classInterpolatorIterator_1_1Entry.html">Entry</a> e(t_from,t_to,v_from,v_to,steps);
00045     <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.push_back( e );
00046 }
00047 
00048 
00049 
00050 <span class="comment">//----------------------------------------------------------------------------//</span>
00051 <span class="comment">// A B S T R A C T   I T E R A T O R   F U N C T I O N S</span>
00052 <span class="comment">//----------------------------------------------------------------------------//</span>
00053 
00054 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00055"></a><a class="code" href="classInterpolatorIterator.html#a3">00055</a> <span class="keywordtype">bool</span> <a class="code" href="classInterpolatorIterator.html#a3">InterpolatorIterator::hasNext</a>()
00056 {
00057     <span class="comment">// for some reason, this isn't actually called here</span>
00058     <span class="comment">// but since it's abstract in AbstractIterator, it has</span>
00059     <span class="comment">// to be defined... but really it does nothing, I'm pretty sure</span>
00060     <span class="comment">// -ZM</span>
00061 
00062     <span class="comment">// fixed - Jon Kishkunas</span>
00063     <span class="keywordflow">return</span> (!((<a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.empty()) &amp;&amp; (!<a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a>)));
00064 }
00065 
00066 
00067 <span class="comment">//----------------------------------------------------------------------------//</span>
00068 
<a name="l00069"></a><a class="code" href="classLinearInterpolatorIterator.html#a0">00069</a> <a class="code" href="classLinearInterpolatorIterator.html#a0">LinearInterpolatorIterator::LinearInterpolatorIterator</a>()
00070 {
00071 }
00072 
<a name="l00073"></a><a class="code" href="classLinearInterpolatorIterator.html#a1">00073</a> <a class="code" href="classLinearInterpolatorIterator.html">LinearInterpolatorIterator</a>* <a class="code" href="classLinearInterpolatorIterator.html#a1">LinearInterpolatorIterator::clone</a>()
00074 {
00075     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classLinearInterpolatorIterator.html#a0">LinearInterpolatorIterator</a>(*<span class="keyword">this</span>);
00076 }
00077 
<a name="l00078"></a><a class="code" href="classLinearInterpolatorIterator.html#a2">00078</a> <a class="code" href="Types_8h.html#a3">m_value_type</a>&amp; <a class="code" href="classLinearInterpolatorIterator.html#a2">LinearInterpolatorIterator::next</a>()
00079 {
00080 
00081     <span class="keywordflow">if</span> (<a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> &gt; 0)
00082     {
00083         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a>--;
00084         <a class="code" href="classInterpolatorIterator.html#p2">value_</a> += <a class="code" href="classInterpolatorIterator.html#p3">delta_</a>;
00085         <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00086     }
00087     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.empty())
00088     {
00089         <span class="comment">// pop the top entry</span>
00090         Entry&amp; e = <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.front();
00091         <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.pop_front();
00092 
00093         <span class="comment">// set up for the iterator:</span>
00094         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> = e.steps_;        
00095         <a class="code" href="classInterpolatorIterator.html#p2">value_</a> = e.v_from_;
00096         <a class="code" href="classInterpolatorIterator.html#p3">delta_</a> = (e.v_to_ - e.v_from_) / ((<a class="code" href="Types_8h.html#a3">m_value_type</a>) e.steps_);
00097 
00098         <span class="comment">// return the value:</span>
00099         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a>--;
00100         <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00101     }
00102     <span class="keywordflow">else</span>
00103     {
00104         <span class="comment">// User is reading past the end of the iterator.</span>
00105         <span class="comment">// just return the value.</span>
00106         <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00107     }
00108     
00109 }
00110 
<a name="l00111"></a><a class="code" href="classExponentialInterpolatorIterator.html#a0">00111</a> <a class="code" href="classExponentialInterpolatorIterator.html#a0">ExponentialInterpolatorIterator::ExponentialInterpolatorIterator</a>()
00112 {
00113 }
00114 
<a name="l00115"></a><a class="code" href="classExponentialInterpolatorIterator.html#a1">00115</a> <a class="code" href="classExponentialInterpolatorIterator.html">ExponentialInterpolatorIterator</a>* <a class="code" href="classExponentialInterpolatorIterator.html#a1">ExponentialInterpolatorIterator::clone</a>()
00116 {
00117     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classExponentialInterpolatorIterator.html#a0">ExponentialInterpolatorIterator</a>(*<span class="keyword">this</span>);
00118 }
00119 
00120 
00121 <span class="comment">/*************************************************************************/</span>
00122 <span class="comment">// This is a very useful function to essentially find the y-value of the</span>
00123 <span class="comment">// x-value (time-value) passed in as an argument.  If the point asked for </span>
00124 <span class="comment">// is at the start of a segment, this is an easy function.  However, if it </span>
00125 <span class="comment">// is not, the value must be interpolated, either linearly or exponentially,</span>
00126 <span class="comment">// because these are the two path types currently defined.</span>
00127 <span class="comment">//</span>
00128 <span class="comment">// The exponential interpolation was derived by Hans Kaper one day.  It</span>
00129 <span class="comment">// is correct.  Basically, the derivation starts with the exponential</span>
00130 <span class="comment">// equation y(t) = y1*e^(L*(t-t1)) and through simplification and such,</span>
00131 <span class="comment">// gets to the following equation:</span>
00132 <span class="comment">//</span>
00133 <span class="comment">//  1 + ((y(t) - y1)/y1) = (1 + ((y2 - y1)/y1)) ^ ((t - t1)/(t2 - t1))</span>
00134 <span class="comment">//</span>
00135 <span class="comment">// Then, the following simplifications are done:</span>
00136 <span class="comment">// </span>
00137 <span class="comment">//   X = (y(t) - y1)/y1</span>
00138 <span class="comment">//  dy = (y2 - y1)/y1</span>
00139 <span class="comment">//  dt = (t - t1)/(t2 - t1)</span>
00140 <span class="comment">// </span>
00141 <span class="comment">// So, the equation becomes:</span>
00142 <span class="comment">//</span>
00143 <span class="comment">//   1 + X = (1 + dy) ^ dt</span>
00144 <span class="comment">// </span>
00145 <span class="comment">// which is what is used in this function.  This shows a very important</span>
00146 <span class="comment">// detail.  This gets the value relative to this exponential function,</span>
00147 <span class="comment">// not an absolute value.</span>
00148 <span class="comment">/*************************************************************************/</span>
00149 
<a name="l00150"></a><a class="code" href="classExponentialInterpolatorIterator.html#a2">00150</a> <a class="code" href="Types_8h.html#a3">m_value_type</a>&amp; <a class="code" href="classExponentialInterpolatorIterator.html#a2">ExponentialInterpolatorIterator::next</a>()
00151 {
00152     <span class="keywordflow">if</span>( <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.empty() ) <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00153 
00154     Entry&amp; e = <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.front();
00155     <span class="keywordflow">if</span>( ! <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> ) <span class="comment">// we're at the beginning of an entry, so just return</span>
00156                        <span class="comment">// that value and set up the steps for the next</span>
00157     {
00158         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> = e.steps_;
00159         <a class="code" href="classInterpolatorIterator.html#p2">value_</a> = e.v_from_;
00160     }
00161     <span class="keywordflow">if</span> (<a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> &gt; 0)
00162     {
00163         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a>--;
00164         <a class="code" href="Types_8h.html#a3">m_value_type</a> y1 = e.v_from_;
00165             <a class="code" href="Types_8h.html#a3">m_value_type</a> y2 = e.v_to_;
00166         <a class="code" href="Types_8h.html#a3">m_value_type</a> dy;
00167 
00168         <span class="keywordflow">if</span>( y1 == 0 )
00169             y1 = .0001;
00170         <span class="keywordflow">if</span>( y2 == 0 )
00171             y2 = .0001;
00172 
00173         <a class="code" href="Types_8h.html#a3">m_value_type</a> alpha = 3;
00174         <span class="keywordflow">if</span> (y1 &gt; y2)
00175         {
00176             alpha = -alpha;
00177         }
00178 
00179         dy = (y2 - y1) / y1;
00180             <a class="code" href="Types_8h.html#a2">m_time_type</a> t1 = e.t_from_;
00181         <a class="code" href="Types_8h.html#a2">m_time_type</a> t2 = e.t_to_;
00182         <a class="code" href="Types_8h.html#a2">m_time_type</a> t = (((t2 - t1) / e.steps_) * (e.steps_ - <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a>)) + t1;
00183         <a class="code" href="Types_8h.html#a3">m_value_type</a> I = (t - t1) / (t2 - t1);
00184         <a class="code" href="Types_8h.html#a3">m_value_type</a> base = 2.718282;
00185         <a class="code" href="classInterpolatorIterator.html#p2">value_</a> = y1 + (y2 - y1) * ((1 - pow (base, (I * alpha))) / (1 - pow (base, alpha)));
00186     }
00187 
00188     <span class="keywordflow">if</span>( ! <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> )
00189     {
00190         <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.pop_front();
00191         <span class="keywordflow">if</span>( <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.empty() ) <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00192         e = <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.front();
00193         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> = e.steps_;
00194         <a class="code" href="classInterpolatorIterator.html#p2">value_</a> = e.v_from_;
00195     }
00196     
00197     <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00198 }
00199 
<a name="l00200"></a><a class="code" href="classCubicSplineInterpolatorIterator.html#a0">00200</a> <a class="code" href="classCubicSplineInterpolatorIterator.html#a0">CubicSplineInterpolatorIterator::CubicSplineInterpolatorIterator</a>() 
00201   : x0(-1), y0(-1), x3(0), y3(0)
00202 {
00203 }
00204 
<a name="l00205"></a><a class="code" href="classCubicSplineInterpolatorIterator.html#a1">00205</a> <a class="code" href="classCubicSplineInterpolatorIterator.html">CubicSplineInterpolatorIterator</a>* <a class="code" href="classCubicSplineInterpolatorIterator.html#a1">CubicSplineInterpolatorIterator::clone</a>()
00206 {
00207     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classCubicSplineInterpolatorIterator.html#a0">CubicSplineInterpolatorIterator</a>(*<span class="keyword">this</span>);
00208 }
00209 
00210 <span class="comment">/*************************************************************************/</span>
00211 <span class="comment">// The ith cubic polynomial u_i(x) which connects (xi,yi) with slope</span>
00212 <span class="comment">// mi to (x_i+1,y_i+1) with slope m_i+1 as x ranges from xi to</span>
00213 <span class="comment">// x_i+1 is:</span>
00214 <span class="comment">//</span>
00215 <span class="comment">// u_i(x) = ai+bi(x-xi)+ci(x-xi)^2+di(x-xi)^3, where</span>
00216 <span class="comment">// ai = yi,</span>
00217 <span class="comment">// bi = mi,</span>
00218 <span class="comment">// ci = (3(y_i+1-yi)/(x_i+1-xi) - 2mi - m_i+1) / (x_i+1 - xi)</span>
00219 <span class="comment">// di = (mi + m_i+1 - 2(y_i+1 - yi)/(x_i+1 - xi)) / (x_i+1 - xi)^2</span>
00220 <span class="comment">//</span>
00221 <span class="comment">// In this function, we use:</span>
00222 <span class="comment">// mi = (y_i+1-y_i-1)/(x_i+1-x_i-1) for i=2,...,n-1 which is just the</span>
00223 <span class="comment">// average of the slopes surrounding a point, and for the ends:</span>
00224 <span class="comment">// m1 = (y2-y1)/(x2-x1), mn = (yn-y_n-1)/(xn-x_n-1)</span>
00225 <span class="comment">//</span>
00226 <span class="comment">// This is achieved by taking four (time,value) points and using them</span>
00227 <span class="comment">// to make the above calculations:  two points specifying the range,</span>
00228 <span class="comment">// and a point before and one after.</span>
00229 <span class="comment">/*************************************************************************/</span>
<a name="l00230"></a><a class="code" href="classCubicSplineInterpolatorIterator.html#a2">00230</a> <a class="code" href="Types_8h.html#a3">m_value_type</a>&amp; <a class="code" href="classCubicSplineInterpolatorIterator.html#a2">CubicSplineInterpolatorIterator::next</a>()
00231 {
00232 
00233     <span class="keywordflow">if</span>( <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.empty() ) <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00234 
00235     Entry&amp; e = <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.front();
00236     <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.pop_front();
00237     <span class="keywordtype">int</span> chk = 0;
00238     <span class="keywordflow">if</span>( <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.empty() ) { chk = 1; }
00239     <span class="keywordflow">else</span> { <span class="comment">// get the point ahead of the range since there are more</span>
00240            <span class="comment">// entries in the queue</span>
00241       Entry&amp; e2 = <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.front();
00242       <a class="code" href="classCubicSplineInterpolatorIterator.html#r2">x3</a> = e2.t_to_;
00243       <a class="code" href="classCubicSplineInterpolatorIterator.html#r3">y3</a> = e2.v_to_;
00244     }
00245     <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.push_front(e);
00246 
00247     <span class="comment">// we need this in the larger scope</span>
00248     <a class="code" href="Types_8h.html#a2">m_time_type</a> x1;
00249     <a class="code" href="Types_8h.html#a3">m_value_type</a> y1;
00250 
00251     <span class="keywordflow">if</span>( ! <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> ) <span class="comment">// we're at the beginning of an entry, so just return</span>
00252                        <span class="comment">// that value and set up the steps for the next</span>
00253     {
00254         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> = e.steps_;
00255         <a class="code" href="classInterpolatorIterator.html#p2">value_</a> = e.v_from_;
00256     }
00257     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> &gt; 0)
00258     {
00259         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a>--;
00260         x1 = e.t_from_;
00261         <a class="code" href="Types_8h.html#a2">m_time_type</a> x2 = e.t_to_;
00262         <a class="code" href="Types_8h.html#a2">m_time_type</a> x = (( ( x2 - x1 ) / e.steps_ ) * ( e.steps_ - <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> )) + x1;
00263         y1 = e.v_from_;
00264         <a class="code" href="Types_8h.html#a3">m_value_type</a> y2 = e.v_to_;
00265 
00266         <span class="comment">// since we can't lookahead, just give the next points the end of </span>
00267         <span class="comment">// the range's values</span>
00268         <span class="keywordflow">if</span>( chk ) { <a class="code" href="classCubicSplineInterpolatorIterator.html#r2">x3</a> = x2; <a class="code" href="classCubicSplineInterpolatorIterator.html#r3">y3</a> = y2; }
00269 
00270         <a class="code" href="Types_8h.html#a3">m_value_type</a> l_slp = (y2-y1)/(<a class="code" href="Types_8h.html#a3">m_value_type</a>)(x2-x1);
00271 
00272         <a class="code" href="Types_8h.html#a3">m_value_type</a> m1;
00273         <span class="keywordflow">if</span>( <a class="code" href="classCubicSplineInterpolatorIterator.html#r0">x0</a> == -1 &amp;&amp; <a class="code" href="classCubicSplineInterpolatorIterator.html#r1">y0</a> == -1 ) <span class="comment">// front of queue</span>
00274           m1 = l_slp;
00275         <span class="keywordflow">else</span>
00276           m1 = (y2-<a class="code" href="classCubicSplineInterpolatorIterator.html#r1">y0</a>)/(<a class="code" href="Types_8h.html#a3">m_value_type</a>)(x2-<a class="code" href="classCubicSplineInterpolatorIterator.html#r0">x0</a>);
00277 
00278         <a class="code" href="Types_8h.html#a3">m_value_type</a> m2 = (<a class="code" href="classCubicSplineInterpolatorIterator.html#r3">y3</a>-y1)/(<a class="code" href="classCubicSplineInterpolatorIterator.html#r2">x3</a>-x1);
00279 
00280         <span class="comment">// our coefficients for the polynomial</span>
00281         <a class="code" href="Types_8h.html#a3">m_value_type</a> a = y1;
00282         <a class="code" href="Types_8h.html#a3">m_value_type</a> b = m1;
00283         <a class="code" href="Types_8h.html#a3">m_value_type</a> c = ((3*l_slp)-(2*m1)-m2)/(x2-x1);
00284         <a class="code" href="Types_8h.html#a3">m_value_type</a> d = (m1+m2-(2*l_slp))/(pow((x2-x1),2));
00285 
00286         <a class="code" href="Types_8h.html#a3">m_value_type</a> x_dif = x - x1;
00287 
00288         <span class="comment">// the polynomial</span>
00289         <a class="code" href="Types_8h.html#a3">m_value_type</a> ux = a + (b*x_dif) + (c*(pow(x_dif,2))) + (d*(pow(x_dif,3)));
00290 
00291         <a class="code" href="classInterpolatorIterator.html#p2">value_</a> = ux;
00292     }
00293 
00294     <span class="keywordflow">if</span>( ! <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> ) {
00295 
00296         <span class="comment">// set the last point to the beginning of the current point</span>
00297         <span class="comment">// as we move ahead</span>
00298         <a class="code" href="classCubicSplineInterpolatorIterator.html#r0">x0</a> = x1;
00299         <a class="code" href="classCubicSplineInterpolatorIterator.html#r1">y0</a> = y1;
00300         <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.pop_front();
00301         <span class="keywordflow">if</span>( <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.empty() ) <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00302         e = <a class="code" href="classInterpolatorIterator.html#p0">queue_</a>.front();
00303         <a class="code" href="classInterpolatorIterator.html#p1">stepsLeft_</a> = e.steps_;
00304         <a class="code" href="classInterpolatorIterator.html#p2">value_</a> = e.v_from_;
00305     }
00306 
00307     <span class="keywordflow">return</span> <a class="code" href="classInterpolatorIterator.html#p2">value_</a>;
00308 }
00309 
00310 <span class="comment">//----------------------------------------------------------------------------//</span>
00311 <span class="preprocessor">#endif //__INTERPOLATOR_ITERATOR_CPP</span>
00312 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Apr 25 13:18:11 2005 for LASS by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
