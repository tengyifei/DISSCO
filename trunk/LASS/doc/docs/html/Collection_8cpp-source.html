<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LASS: Collection.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Collection.cpp</h1><a href="Collection_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">LASS (additive sound synthesis library)</span>
00003 <span class="comment">Copyright (C) 2005  Sever Tipei (s-tipei@uiuc.edu)</span>
00004 <span class="comment"></span>
00005 <span class="comment">This program is free software; you can redistribute it and/or</span>
00006 <span class="comment">modify it under the terms of the GNU General Public License</span>
00007 <span class="comment">as published by the Free Software Foundation; either version 2</span>
00008 <span class="comment">of the License, or (at your option) any later version.</span>
00009 <span class="comment"></span>
00010 <span class="comment">This program is distributed in the hope that it will be useful,</span>
00011 <span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00012 <span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00013 <span class="comment">GNU General Public License for more details.</span>
00014 <span class="comment"></span>
00015 <span class="comment">You should have received a copy of the GNU General Public License</span>
00016 <span class="comment">along with this program; if not, write to the Free Software</span>
00017 <span class="comment">Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span>
00018 <span class="comment">*/</span>
00019 
00020 <span class="comment">//----------------------------------------------------------------------------//</span>
00021 <span class="comment">//</span>
00022 <span class="comment">//      Collection.cpp</span>
00023 <span class="comment">//</span>
00024 <span class="comment">//----------------------------------------------------------------------------//</span>
00025 
00026 <span class="preprocessor">#ifndef __COLLECTION_CPP</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#define __COLLECTION_CPP</span>
00028 <span class="preprocessor"></span>
00029 <span class="comment">//----------------------------------------------------------------------------//</span>
00030 
00031 <span class="preprocessor">#if (__GNUC__ &gt;= 3)</span>
00032 <span class="preprocessor"></span><span class="preprocessor">        #include &lt;iostream&gt;</span>
00033 <span class="preprocessor">#else</span>
00034 <span class="preprocessor"></span><span class="preprocessor">        #include &lt;iostream.h&gt;</span>
00035 <span class="preprocessor">#endif</span>
00036 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="Collection_8h.html">Collection.h</a>"</span>
00037 
00038 <span class="comment">//----------------------------------------------------------------------------//</span>
00039 <span class="comment">// CONSTRUCTORS, DESTRUCTOR, ASSIGNMENT</span>
00040 
00041 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00042"></a><a class="code" href="classCollection.html#a0">00042</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <a class="code" href="classCollection.html#a0">Collection&lt;T&gt;::Collection</a>()
00043 {
00044 }
00045     
00046 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00047"></a><a class="code" href="classCollection.html#a1">00047</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <a class="code" href="classCollection.html#a0">Collection&lt;T&gt;::Collection</a>(<span class="keyword">const</span> <a class="code" href="classCollection.html">Collection&lt;T&gt;</a>&amp; c)
00048 {
00049     <span class="comment">// I think this implementation should work:</span>
00050     <span class="comment">// (not for collections of pointers, beware!)</span>
00051     <a class="code" href="classCollection.html#r0">vector_</a> = c.<a class="code" href="classCollection.html#r0">vector_</a>;
00052 }
00053 
00054 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00055"></a><a class="code" href="classCollection.html#a2">00055</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <a class="code" href="classCollection.html#a2">Collection&lt;T&gt;::~Collection</a>()
00056 {
00057     <span class="comment">// there should be no dynamic memory to delete.</span>
00058 }
00059 
00060 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00061"></a><a class="code" href="classCollection.html#a3">00061</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <a class="code" href="classCollection.html">Collection&lt;T&gt;</a>&amp; <a class="code" href="classCollection.html#a3">Collection&lt;T&gt;::operator=</a>(<span class="keyword">const</span> <a class="code" href="classCollection.html">Collection&lt;T&gt;</a>&amp; c)
00062 {
00063     <span class="keywordflow">if</span> (<span class="keyword">this</span> != &amp;c) <span class="comment">// beware self assignment</span>
00064     {
00065         <span class="comment">// clear this vector</span>
00066         <a class="code" href="classCollection.html#a6">clear</a>();
00067         
00068         <span class="comment">// copy every element of c into this instance</span>
00069         <span class="keyword">typename</span> vector&lt;T&gt;::iterator it = <a class="code" href="classCollection.html#r0">vector_</a>.begin();
00070         
00071         <span class="keywordflow">while</span>(it != <a class="code" href="classCollection.html#r0">vector_</a>.end())
00072         {
00073             <a class="code" href="classCollection.html#a4">add</a>(*it);
00074             it++;
00075         }
00076     }
00077 
00078     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00079 }
00080     
00081 <span class="comment">//----------------------------------------------------------------------------//</span>
00082 <span class="comment">// PUBLIC METHODS</span>
00083 
00084 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00085"></a><a class="code" href="classCollection.html#a4">00085</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classCollection.html#a4">Collection&lt;T&gt;::add</a>(<span class="keyword">const</span> T&amp; element)
00086 {
00087     <span class="comment">//vector_.push_back(element);</span>
00088     <span class="comment">// get an iterator pointing at the index</span>
00089     <span class="keyword">typename</span> vector&lt;T&gt;::iterator it = <a class="code" href="classCollection.html#r0">vector_</a>.end();
00090     <span class="comment">//for (int i=0; i&lt;vector; i++)</span>
00091     <span class="comment">//  it++;</span>
00092     <a class="code" href="classCollection.html#r0">vector_</a>.insert(it,element);
00093 }
00094  
00095 <span class="comment">//----------------------------------------------------------------------------//   </span>
<a name="l00096"></a><a class="code" href="classCollection.html#a5">00096</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classCollection.html#a4">Collection&lt;T&gt;::add</a>(<span class="keywordtype">int</span> index, <span class="keyword">const</span> T&amp; element)
00097 {
00098     <span class="keywordflow">if</span> ( (index &gt;= 0) &amp;&amp; (index &lt; (<span class="keywordtype">int</span>) <a class="code" href="classCollection.html#r0">vector_</a>.size()))
00099     {
00100         <span class="comment">// get an iterator pointing at the index</span>
00101         <span class="keyword">typename</span> vector&lt;T&gt;::iterator it = <a class="code" href="classCollection.html#r0">vector_</a>.begin();
00102         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;index; i++)
00103             it++;
00104         <a class="code" href="classCollection.html#r0">vector_</a>.insert(it,element);
00105     }
00106     <span class="keywordflow">else</span>
00107     {
00108         cerr &lt;&lt; <span class="stringliteral">"ERROR: Collection.add() Index out of bounds: "</span> &lt;&lt; index &lt;&lt; endl;
00109     }
00110 }
00111 
00112 <span class="comment">//----------------------------------------------------------------------------//    </span>
<a name="l00113"></a><a class="code" href="classCollection.html#a6">00113</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classCollection.html#a6">Collection&lt;T&gt;::clear</a>()
00114 {
00115     <a class="code" href="classCollection.html#r0">vector_</a>.clear();
00116 }
00117     
00118 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00119"></a><a class="code" href="classCollection.html#a7">00119</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; T&amp; <a class="code" href="classCollection.html#a7">Collection&lt;T&gt;::get</a>(<span class="keywordtype">int</span> index)
00120 {
00121     <span class="keywordflow">if</span> ( (index &gt;= 0) &amp;&amp; (index &lt; (<span class="keywordtype">int</span>) <a class="code" href="classCollection.html#r0">vector_</a>.size()))
00122     {
00123         <span class="keywordflow">return</span> <a class="code" href="classCollection.html#r0">vector_</a>[index];
00124     }
00125     <span class="keywordflow">else</span>
00126     {
00127         cerr &lt;&lt; <span class="stringliteral">"ERROR: Collection.get() Index out of bounds: "</span> &lt;&lt; index &lt;&lt; endl;
00128         <span class="keywordflow">return</span> <a class="code" href="classCollection.html#r0">vector_</a>[0];
00129     }
00130 }
00131     
00132 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00133"></a><a class="code" href="classCollection.html#a8">00133</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; T <a class="code" href="classCollection.html#a8">Collection&lt;T&gt;::remove</a>(<span class="keywordtype">int</span> index)
00134 {
00135     <span class="keywordflow">if</span> ( (index &gt;= 0) &amp;&amp; (index &lt; (<span class="keywordtype">int</span>) <a class="code" href="classCollection.html#r0">vector_</a>.size()))
00136     {
00137         <span class="comment">// get an iterator pointing at the index</span>
00138         <span class="keyword">typename</span> vector&lt;T&gt;::iterator it = <a class="code" href="classCollection.html#r0">vector_</a>.begin();
00139         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;index; i++)
00140             it++;
00141         T old = *it;
00142         <a class="code" href="classCollection.html#r0">vector_</a>.erase(it);
00143         <span class="keywordflow">return</span> old;
00144     }
00145     <span class="keywordflow">else</span>
00146     {
00147         cerr &lt;&lt; <span class="stringliteral">"ERROR: Collection.remove() Index out of bounds: "</span> &lt;&lt; index &lt;&lt; endl;
00148         <span class="keywordflow">return</span> <a class="code" href="classCollection.html#r0">vector_</a>[0];
00149     }
00150 }
00151     
00152 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00153"></a><a class="code" href="classCollection.html#a9">00153</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; T <a class="code" href="classCollection.html#a9">Collection&lt;T&gt;::set</a>(<span class="keywordtype">int</span> index, <span class="keyword">const</span> T&amp; element)
00154 {
00155     <span class="keywordflow">if</span> ( (index &gt;= 0) &amp;&amp; (index &lt; (<span class="keywordtype">int</span>) <a class="code" href="classCollection.html#r0">vector_</a>.size()))
00156     {
00157         T old = <a class="code" href="classCollection.html#r0">vector_</a>[index];
00158         vector_[index] = element;
00159         <span class="keywordflow">return</span> old;
00160     }
00161     <span class="keywordflow">else</span>
00162     {
00163         cerr &lt;&lt; <span class="stringliteral">"ERROR: Collection.set() Index out of bounds: "</span> &lt;&lt; index &lt;&lt; endl;
00164         <span class="keywordflow">return</span> <a class="code" href="classCollection.html#r0">vector_</a>[0];
00165     }
00166 }
00167 
00168 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00169"></a><a class="code" href="classCollection.html#a10">00169</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">int</span> <a class="code" href="classCollection.html#a10">Collection&lt;T&gt;::size</a>()
00170 {
00171     <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) <a class="code" href="classCollection.html#r0">vector_</a>.size();
00172 }
00173 
00174 
00175 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00176"></a><a class="code" href="classCollection.html#a11">00176</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classCollection.html#a11">Collection&lt;T&gt;::sortCollection</a>()
00177 {
00178     sort(<a class="code" href="classCollection.html#r0">vector_</a>.begin(), <a class="code" href="classCollection.html#r0">vector_</a>.end());
00179 }
00180 
00181 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00182"></a><a class="code" href="classCollection.html#a12">00182</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <a class="code" href="classIterator.html">Iterator&lt;T&gt;</a> <a class="code" href="classCollection.html#a12">Collection&lt;T&gt;::iterator</a>()
00183 {
00184     <span class="comment">//return CollectionIterator&lt;T&gt;(vector_.begin(), vector_.end());</span>
00185     <span class="keywordflow">return</span> <a class="code" href="classIterator.html">Iterator&lt;T&gt;</a>(<span class="keyword">new</span> <a class="code" href="classCollection_1_1CollectionIterator.html">CollectionIterator</a>(<a class="code" href="classCollection.html#r0">vector_</a>.begin(), <a class="code" href="classCollection.html#r0">vector_</a>.end()));
00186 }
00187 
00188 
00189 <span class="comment">//----------------------------------------------------------------------------//</span>
00190 <span class="comment">// CollectionIterator</span>
00191 
00192 <span class="comment">//----------------------------------------------------------------------------//</span>
00193 <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <a class="code" href="classCollection_1_1CollectionIterator.html#a0">Collection&lt;T&gt;::CollectionIterator</a>
<a name="l00194"></a><a class="code" href="classCollection_1_1CollectionIterator.html#a0">00194</a> <a class="code" href="classCollection_1_1CollectionIterator.html#a0">    ::CollectionIterator</a>(<span class="keyword">typename</span> vector&lt;T&gt;::iterator it, <span class="keyword">typename</span> vector&lt;T&gt;::iterator end)
00195     : it_(it), end_(end)
00196 {
00197 }
00198 
00199 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00200"></a><a class="code" href="classCollection_1_1CollectionIterator.html#a1">00200</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">typename</span> <a class="code" href="classCollection.html">Collection&lt;T&gt;</a><a class="code" href="classCollection_1_1CollectionIterator.html">::CollectionIterator</a>* <a class="code" href="classCollection_1_1CollectionIterator.html#a1">Collection&lt;T&gt;::CollectionIterator::clone</a>()
00201 {
00202     <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classCollection_1_1CollectionIterator.html#a0">CollectionIterator</a>(<a class="code" href="classCollection_1_1CollectionIterator.html#r0">it_</a>, <a class="code" href="classCollection_1_1CollectionIterator.html#r1">end_</a>);
00203 }
00204 
00205 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00206"></a><a class="code" href="classCollection_1_1CollectionIterator.html#a2">00206</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">bool</span> <a class="code" href="classCollection_1_1CollectionIterator.html#a2">Collection&lt;T&gt;::CollectionIterator::hasNext</a>()
00207 {
00208     <span class="keywordflow">return</span> (<a class="code" href="classCollection_1_1CollectionIterator.html#r0">it_</a> &lt; <a class="code" href="classCollection_1_1CollectionIterator.html#r1">end_</a>);
00209 }
00210 
00211 <span class="comment">//----------------------------------------------------------------------------//</span>
<a name="l00212"></a><a class="code" href="classCollection_1_1CollectionIterator.html#a3">00212</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; T&amp; <a class="code" href="classCollection_1_1CollectionIterator.html#a3">Collection&lt;T&gt;::CollectionIterator::next</a>()
00213 {
00214     T&amp; value = *<a class="code" href="classCollection_1_1CollectionIterator.html#r0">it_</a>;
00215     it_++;
00216     <span class="keywordflow">return</span> value;
00217 }
00218 
00219 <span class="comment">// DEBUGGING PURPOSES ONLY</span>
<a name="l00220"></a><a class="code" href="classCollection.html#a13">00220</a> <span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keywordtype">void</span> <a class="code" href="classCollection.html#a13">Collection&lt;T&gt;::printPointers</a>(<span class="keywordtype">char</span> * collType)
00221 {
00222         <span class="comment">// get an iterator pointing at the index</span>
00223         cout &lt;&lt; collType &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; endl;
00224         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classCollection.html#r0">vector_</a>.size(); i++)
00225         {
00226                 cout &lt;&lt;  <span class="stringliteral">"   "</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">": "</span> &lt;&lt; (<span class="keywordtype">long</span>)(&amp;<a class="code" href="classCollection.html#r0">vector_</a>[i]) &lt;&lt; endl;
00227         }
00228 }
00229 
00230 
00231 <span class="comment">//----------------------------------------------------------------------------//</span>
00232 <span class="preprocessor">#endif //__COLLECTION_CPP</span>
00233 <span class="preprocessor"></span>
00234 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Apr 25 13:18:11 2005 for LASS by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
