<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>LASS:  TemplateFilter::hist_queue&lt; ElemType &gt; class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Filter::hist_queue&lt; ElemType &gt; Class Template Reference</h1><code>#include &lt;<a class="el" href="Filter_8h-source.html">Filter.h</a>&gt;</code>
<p>
Inheritance diagram for Filter::hist_queue&lt; ElemType &gt;:<p><center><img src="classFilter_1_1hist__queue__inherit__graph.gif" border="0" usemap="#Filter_1_1hist__queue_3_01ElemType_01_4__inherit__map" alt="Inheritance graph"></center>
<map name="Filter_1_1hist__queue_3_01ElemType_01_4__inherit__map">
<area href="classFilter_1_1hist__queue.html" shape="rect" coords="14,263,246,439" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for Filter::hist_queue&lt; ElemType &gt;:<p><center><img src="classFilter_1_1hist__queue__coll__graph.gif" border="0" usemap="#Filter_1_1hist__queue_3_01ElemType_01_4__coll__map" alt="Collaboration graph"></center>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classFilter_1_1hist__queue-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#a0">hist_queue</a> (long len)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#a1">~hist_queue</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ElemType&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#a2">dequeue</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>void&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#a3">enqueue</a> (ElemType new_val)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ElemType&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#a4">index_from_oldest</a> (long i)</td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ElemType&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#a5">index_from_newest</a> (long i)</td></tr>

<tr><td colspan=2><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#r0">length</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#r1">front_idx</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>long&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#r2">back_idx</a></td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>ElemType *&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="classFilter_1_1hist__queue.html#r3">array</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h3>template&lt;class ElemType&gt;<br>
 class Filter::hist_queue&lt; ElemType &gt;</h3>

Every filter requires some sort of history of previous values. Even the simplest 1st order IIR filter requires the previous output. For filters, we only need one of the previous values. In that case, a queue structure is useful to enqueue the current output for later use, and to dequeue a value from previous runs.<p>
Note 1: The C++ STL includes a queue, but (1) it uses nonstandard 'push' and 'pop' instead of 'enqueue' and 'dequeue' (respectively), which decreases readability; (2) in filters with a fixed delay factor, we can optimize for speed by using a fixed-length ring buffer of the appropriate size (let queue length = D). Note 2: Some filters, such as FIR filters require a different type of history that needs access to all the previous values (or some subset of them that includes more than just the oldest value). For these filters, this queue allows indexed access from either end of the queue.<p>
Three examples: 1. Consider the 1st order IIR filter. It uses the equation y(t) = x(t) + g*y(t-1). In this case, the history queue will always have one old value. Thus, we must inititalize it by enqueing a 0 at the start. Then we can perform one time step with as follows: y_t = x_t + (g * <a class="el" href="classFilter_1_1hist__queue.html#a2">hist_queue.dequeue()</a>); hist_queue.enqueue(y_t); return y_t;<p>
2. Now compare this to the comb filter. It uses the equation y(t) = x(t-D) + g*y(t-D). Now we need two queues. This is the reason that the queue class is provided, but not instantiated. Child-class filters can use the history queue however they like as needed. init: for(i=0;i&lt;D;i++) { x_hist.enqueue(0); y_hist.enqueue(0); }<p>
y_d = x_hist.dequeue() + (g * y_hist.dequeue()); y_hist.enqueue(y_d); x_hist.enqueue(x_d);<p>
Note 3: If you're using a D-length queue for a delay of D cycles, be sure that you dequeue before enqueuing so you don't overflow the queue.<p>
<dl compact><dt><b>Author:</b></dt><dd>Jim Lindstrom </dd></dl>

<p>

<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00159">159</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="Filter::hist_queue::hist_queue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::<a class="el" href="classFilter_1_1hist__queue.html">hist_queue</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>len</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This constructor initializes the queue to a given length.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>len</em>&nbsp;</td><td>The length of the queue </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00168">168</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="Filter::hist_queue::~hist_queue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::~<a class="el" href="classFilter_1_1hist__queue.html">hist_queue</a> </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the destructor. 
<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00182">182</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="Filter::hist_queue::dequeue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> ElemType <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::dequeue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">void&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function removes and returns the oldest element in the queue (FIFO). <dl compact><dt><b>Returns:</b></dt><dd>The oldest element </dd></dl>

<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00192">192</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="Filter::hist_queue::enqueue" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> void <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::enqueue </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">ElemType&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>new_val</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function adds an element to the queue (FIFO).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>new_val</em>&nbsp;</td><td>The element to add to the queue </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00206">206</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="Filter::hist_queue::index_from_newest" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> ElemType <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::index_from_newest </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>i</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return, without removing, a value from the queue indexed from the newest element.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>i</em>&nbsp;</td><td>The index from the end of the queue to return </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00237">237</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="Filter::hist_queue::index_from_oldest" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> ElemType <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::index_from_oldest </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">long&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>i</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This function returns, without removing, a value from the queue indexed from the oldest element<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign=top><em>i</em>&nbsp;</td><td>The index from the end of the queue to return </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00218">218</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.    </td>
  </tr>
</table>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="r3" doxytag="Filter::hist_queue::array" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> ElemType* <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::<a class="el" href="classFilter_1_1hist__queue.html#r3">array</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This holds the values of the queue. 
<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00270">270</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.
<p>
Referenced by <a class="el" href="Filter_8h-source.html#l00192">Filter::hist_queue&lt; m_sample_type &gt;::dequeue()</a>, <a class="el" href="Filter_8h-source.html#l00206">Filter::hist_queue&lt; m_sample_type &gt;::enqueue()</a>, <a class="el" href="Filter_8h-source.html#l00168">Filter::hist_queue&lt; m_sample_type &gt;::hist_queue()</a>, <a class="el" href="Filter_8h-source.html#l00237">Filter::hist_queue&lt; m_sample_type &gt;::index_from_newest()</a>, <a class="el" href="Filter_8h-source.html#l00218">Filter::hist_queue&lt; m_sample_type &gt;::index_from_oldest()</a>, and <a class="el" href="Filter_8h-source.html#l00182">Filter::hist_queue&lt; m_sample_type &gt;::~hist_queue()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r2" doxytag="Filter::hist_queue::back_idx" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> long <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::<a class="el" href="classFilter_1_1hist__queue.html#r2">back_idx</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the index TO the oldest item. 
<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00265">265</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.
<p>
Referenced by <a class="el" href="Filter_8h-source.html#l00192">Filter::hist_queue&lt; m_sample_type &gt;::dequeue()</a>, <a class="el" href="Filter_8h-source.html#l00168">Filter::hist_queue&lt; m_sample_type &gt;::hist_queue()</a>, and <a class="el" href="Filter_8h-source.html#l00218">Filter::hist_queue&lt; m_sample_type &gt;::index_from_oldest()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r1" doxytag="Filter::hist_queue::front_idx" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> long <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::<a class="el" href="classFilter_1_1hist__queue.html#r1">front_idx</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the index PAST the newest item. 
<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00260">260</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.
<p>
Referenced by <a class="el" href="Filter_8h-source.html#l00206">Filter::hist_queue&lt; m_sample_type &gt;::enqueue()</a>, <a class="el" href="Filter_8h-source.html#l00168">Filter::hist_queue&lt; m_sample_type &gt;::hist_queue()</a>, and <a class="el" href="Filter_8h-source.html#l00237">Filter::hist_queue&lt; m_sample_type &gt;::index_from_newest()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="r0" doxytag="Filter::hist_queue::length" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" colspan="4">
template&lt;class ElemType&gt; </td>
        </tr>
        <tr>
          <td class="md" nowrap valign="top"> long <a class="el" href="classFilter_1_1hist__queue.html">Filter::hist_queue</a>&lt; ElemType &gt;::<a class="el" href="classFilter_1_1hist__queue.html#r0">length</a><code> [private]</code>
      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is the number of valid positions within the queue. 
<p>
Definition at line <a class="el" href="Filter_8h-source.html#l00255">255</a> of file <a class="el" href="Filter_8h-source.html">Filter.h</a>.
<p>
Referenced by <a class="el" href="Filter_8h-source.html#l00192">Filter::hist_queue&lt; m_sample_type &gt;::dequeue()</a>, <a class="el" href="Filter_8h-source.html#l00206">Filter::hist_queue&lt; m_sample_type &gt;::enqueue()</a>, <a class="el" href="Filter_8h-source.html#l00168">Filter::hist_queue&lt; m_sample_type &gt;::hist_queue()</a>, <a class="el" href="Filter_8h-source.html#l00237">Filter::hist_queue&lt; m_sample_type &gt;::index_from_newest()</a>, and <a class="el" href="Filter_8h-source.html#l00218">Filter::hist_queue&lt; m_sample_type &gt;::index_from_oldest()</a>.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Filter_8h-source.html">Filter.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Mon Apr 25 13:19:27 2005 for LASS by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
