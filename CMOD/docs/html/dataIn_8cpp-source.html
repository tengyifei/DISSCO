<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>CMOD: dataIn.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>dataIn.cpp</h1><a href="dataIn_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/*</span>
00002 <span class="comment">CMOD (composition module)</span>
00003 <span class="comment">Copyright (C) 2005  Sever Tipei (s-tipei@uiuc.edu)</span>
00004 <span class="comment">                                                                                </span>
00005 <span class="comment">This program is free software; you can redistribute it and/or</span>
00006 <span class="comment">modify it under the terms of the GNU General Public License</span>
00007 <span class="comment">as published by the Free Software Foundation; either version 2</span>
00008 <span class="comment">of the License, or (at your option) any later version.</span>
00009 <span class="comment">                                                                                </span>
00010 <span class="comment">This program is distributed in the hope that it will be useful,</span>
00011 <span class="comment">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
00012 <span class="comment">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
00013 <span class="comment">GNU General Public License for more details.</span>
00014 <span class="comment">                                                                                </span>
00015 <span class="comment">You should have received a copy of the GNU General Public License</span>
00016 <span class="comment">along with this program; if not, write to the Free Software</span>
00017 <span class="comment">Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.</span>
00018 <span class="comment">*/</span>
00019 
00020 <span class="comment">//-----------------------------------------------------------------------//</span>
00021 <span class="comment">//</span>
00022 <span class="comment">// dataIn.cpp</span>
00023 <span class="comment">//-----------------------------------------------------------------------//</span>
00024 
00025 <span class="preprocessor">#include &lt;iostream&gt;</span>
00026 <span class="preprocessor">#include &lt;fstream&gt;</span>
00027 <span class="preprocessor">#include &lt;iomanip&gt;</span>
00028 <span class="preprocessor">#include &lt;cstdlib&gt;</span>
00029 <span class="preprocessor">#include &lt;cmath&gt;</span>
00030 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00031 
00032 <span class="preprocessor">#include "<a class="code" href="dataIn_8h.html">dataIn.h</a>"</span>
00033 
<a name="l00034"></a><a class="code" href="classDataIn.html#s0">00034</a> ifstream * <a class="code" href="classDataIn.html#s0">DataIn::inputFile</a> = NULL;
00035 
00036 
00037 <span class="comment">//-----------------------------------------------------------------------//</span>
00038 <span class="comment">//</span>
00039 <span class="comment">// Constructor</span>
00040 <span class="comment">//-----------------------------------------------------------------------//</span>
00041 
<a name="l00042"></a><a class="code" href="classDataIn.html#a0">00042</a> <a class="code" href="classDataIn.html#a2">DataIn::DataIn</a> (<span class="keywordtype">char</span> * aName) {
00043   this-&gt;<a class="code" href="classDataIn.html#o13">array</a> = NULL;
00044   this-&gt;<a class="code" href="classDataIn.html#o13">array</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>[100];
00045   this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a> = NULL;
00046 
00047   <span class="keywordflow">if</span>(<a class="code" href="classDataIn.html#s0">inputFile</a> != NULL) {
00048     <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;close();
00049   }
00050 
00051   this-&gt;<a class="code" href="classDataIn.html#d0">setFileName</a>(aName);
00052   this-&gt;<a class="code" href="classDataIn.html#a18">openFile</a>(<a class="code" href="classDataIn.html#o14">fileName</a>);
00053 }
00054 
00055 
00056 <span class="comment">//-----------------------------------------------------------------------//</span>
00057 <span class="comment">//</span>
00058 <span class="comment">// Constructor</span>
00059 <span class="comment">//-----------------------------------------------------------------------//</span>
00060 
<a name="l00061"></a><a class="code" href="classDataIn.html#a1">00061</a> <a class="code" href="classDataIn.html#a2">DataIn::DataIn</a> (<span class="keywordtype">int</span> arraySize) {
00062   this-&gt;<a class="code" href="classDataIn.html#o13">array</a> = NULL;
00063   this-&gt;<a class="code" href="classDataIn.html#o13">array</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>[arraySize];
00064   this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a> = NULL;
00065 }
00066 
00067 
00068 <span class="comment">//-----------------------------------------------------------------------//</span>
00069 <span class="comment">//</span>
00070 <span class="comment">// Constructor</span>
00071 <span class="comment">//-----------------------------------------------------------------------//</span>
00072 
<a name="l00073"></a><a class="code" href="classDataIn.html#a2">00073</a> <a class="code" href="classDataIn.html#a2">DataIn::DataIn</a> () {
00074   this-&gt;<a class="code" href="classDataIn.html#o13">array</a> = NULL;
00075   this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a> = NULL;
00076 
00077   this-&gt;<a class="code" href="classDataIn.html#o13">array</a> = <span class="keyword">new</span> <span class="keywordtype">double</span>[100];
00078 
00079   <span class="keywordflow">if</span>(<a class="code" href="classDataIn.html#s0">inputFile</a> == NULL) {
00080     cout &lt;&lt; <span class="stringliteral">"enter fileName: "</span>;
00081     cin &gt;&gt; <a class="code" href="classDataIn.html#o14">fileName</a>;
00082     cout &lt;&lt; endl;
00083 
00084     this-&gt;<a class="code" href="classDataIn.html#d0">setFileName</a>(<a class="code" href="main_8cpp.html#a6">fileName</a>);
00085   }
00086 }
00087 
00088 
00089 <span class="comment">//-----------------------------------------------------------------------//</span>
00090 <span class="comment">//</span>
00091 <span class="comment">// Destructor</span>
00092 <span class="comment">//-----------------------------------------------------------------------//</span>
00093 
<a name="l00094"></a><a class="code" href="classDataIn.html#a3">00094</a> <a class="code" href="classDataIn.html#a3">DataIn::~DataIn</a> () {
00095   <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classDataIn.html#o13">array</a> != NULL || this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a> != NULL) {
00096     this-&gt;<a class="code" href="classDataIn.html#a4">clear</a>();
00097   }
00098 
00099   <a class="code" href="classDataIn.html#o12">loc</a> = <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;tellg();
00100 }
00101 
00102 
00103 <span class="comment">//-----------------------------------------------------------------------//</span>
00104 <span class="comment">//</span>
00105 <span class="comment">// Clear</span>
00106 <span class="comment">//-----------------------------------------------------------------------//</span>
00107 
<a name="l00108"></a><a class="code" href="classDataIn.html#a4">00108</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a4">DataIn::clear</a>() {
00109 
00110   <span class="keywordflow">if</span>(this-&gt; <a class="code" href="classDataIn.html#o13">array</a> != NULL) {
00111     <span class="keyword">delete</span> [] <a class="code" href="classDataIn.html#o13">array</a>;
00112     this-&gt;<a class="code" href="classDataIn.html#o13">array</a> = NULL;
00113   }
00114 
00115   <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a> != NULL) {
00116 
00117     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; this-&gt;<a class="code" href="classDataIn.html#o10">nameSize</a>; i++) {
00118       <span class="keyword">delete</span> [] (<span class="keywordtype">float</span> *) <a class="code" href="classDataIn.html#o16">nameOf</a>[i];
00119     }
00120     <span class="keyword">delete</span> [] (<span class="keywordtype">float</span>**) <a class="code" href="classDataIn.html#o16">nameOf</a>;
00121     this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a> = NULL;
00122   }
00123 }
00124 
00125 
00126 <span class="comment">//-----------------------------------------------------------------------//</span>
00127 <span class="comment">//</span>
00128 <span class="comment">// Set File Name</span>
00129 <span class="comment">//-----------------------------------------------------------------------//</span>
00130 
<a name="l00131"></a><a class="code" href="classDataIn.html#d0">00131</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#d0">DataIn::setFileName</a>(<span class="keywordtype">char</span> * aName) {
00132   this-&gt;<a class="code" href="classDataIn.html#o14">fileName</a> = aName;
00133 }
00134 
00135 
00136 <span class="comment">//-----------------------------------------------------------------------//</span>
00137 <span class="comment">//</span>
00138 <span class="comment">// Open File </span>
00139 <span class="comment">//-----------------------------------------------------------------------//</span>
00140 
<a name="l00141"></a><a class="code" href="classDataIn.html#a18">00141</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a18">DataIn::openFile</a>(<span class="keywordtype">char</span> * fileName) {
00142   <a class="code" href="classDataIn.html#a19">DataIn::closeFile</a>();
00143   <a class="code" href="classDataIn.html#s0">inputFile</a> = <span class="keyword">new</span> ifstream(<a class="code" href="main_8cpp.html#a6">fileName</a>, ios::in);
00144   <span class="keywordflow">if</span>(<a class="code" href="classDataIn.html#s0">inputFile</a> == NULL){
00145     cout &lt;&lt; <span class="stringliteral">" can not open file "</span> &lt;&lt; <a class="code" href="main_8cpp.html#a6">fileName</a> &lt;&lt;endl;
00146     exit(1);
00147   } <span class="keywordflow">else</span> {
00148 <span class="comment">//  cout &lt;&lt; " file " &lt;&lt; fileName &lt;&lt; " opened successfully" &lt;&lt; endl;</span>
00149   }
00150 }
00151 
00152 
00153 <span class="comment">//-----------------------------------------------------------------------//</span>
00154 <span class="comment">//</span>
00155 <span class="comment">// Close File </span>
00156 <span class="comment">//-----------------------------------------------------------------------//</span>
00157 
<a name="l00158"></a><a class="code" href="classDataIn.html#a19">00158</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a19">DataIn::closeFile</a>() {
00159 
00160   <span class="keywordflow">if</span>(<a class="code" href="classDataIn.html#s0">inputFile</a> != NULL) {
00161     <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;close();
00162   }
00163 }
00164 
00165 
00166 <span class="comment">//-----------------------------------------------------------------------//</span>
00167 <span class="comment">//</span>
00168 <span class="comment">// Rewind file</span>
00169 <span class="comment">//-----------------------------------------------------------------------//</span>
00170 
<a name="l00171"></a><a class="code" href="classDataIn.html#a20">00171</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a20">DataIn::rewindFile</a>(<span class="keywordtype">long</span> loc) {
00172   <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;seekg (loc, ios::beg);
00173 }
00174 
00175 
00176 <span class="comment">//-----------------------------------------------------------------------//</span>
00177 <span class="comment">//</span>
00178 <span class="comment">// Find the present byte location in a file.</span>
00179 <span class="comment">//-----------------------------------------------------------------------//</span>
00180 
<a name="l00181"></a><a class="code" href="classDataIn.html#a21">00181</a> <span class="keywordtype">long</span> <a class="code" href="classDataIn.html#a21">DataIn::fileLoc</a>() {
00182   <span class="keywordflow">return</span> <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;tellg();
00183 }
00184 
00185 
00189 <span class="comment">//-----------------------------------------------------------------------//</span>
00190 
<a name="l00191"></a><a class="code" href="classDataIn.html#a22">00191</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a22">DataIn::RememberFileLoc</a>(<span class="keywordtype">int</span> positionNum, <span class="keywordtype">char</span> * fileName, <span class="keywordtype">long</span> &amp;location) {
00192 
00193   <span class="keywordflow">if</span>(positionNum == 0) {
00194     location = <a class="code" href="classDataIn.html#a21">DataIn::fileLoc</a>();       <span class="comment">//remember file location</span>
00195   } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(positionNum &gt; 0) {
00196     <a class="code" href="classDataIn.html#a18">DataIn::openFile</a>(<a class="code" href="main_8cpp.html#a6">fileName</a>);
00197     <a class="code" href="classDataIn.html#a20">DataIn::rewindFile</a>(location);       <span class="comment">//back to that location</span>
00198   }
00199 
00200 }
00201 
00202 
00203 <span class="comment">//-----------------------------------------------------------------------//</span>
00204 <span class="comment">//</span>
00205 <span class="comment">// Generic Dummy Read: reads in a 30 character array (cAr)</span>
00206 <span class="comment">//-----------------------------------------------------------------------//</span>
00207 
<a name="l00208"></a><a class="code" href="classDataIn.html#a6">00208</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a6">DataIn::ReadDummies</a>() {
00209 
00210     * <a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw(30) &gt;&gt; <a class="code" href="classDataIn.html#o7">cAr</a>;
00211 <span class="comment">//   cout &lt;&lt; "      ReadDummies - " &lt;&lt; cAr &lt;&lt; endl;</span>
00212 }
00213 
00214 
00215 <span class="comment">//-----------------------------------------------------------------------//</span>
00216 <span class="comment">// </span>
00217 <span class="comment">// Generic Character Array Read: reads in a 30 character array (cAr)</span>
00218 <span class="comment">//-----------------------------------------------------------------------//</span>
00219 
<a name="l00220"></a><a class="code" href="classDataIn.html#a7">00220</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a7">DataIn::ReadCharArray</a>() {
00221 
00222     * <a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw(10) &gt;&gt; <a class="code" href="classDataIn.html#o6">dummy</a> &gt;&gt; setw(30) &gt;&gt; <a class="code" href="classDataIn.html#o7">cAr</a>;
00223 
00224 }   
00225 
00226 
00227 <span class="comment">//-----------------------------------------------------------------------//</span>
00228 <span class="comment">//</span>
00229 <span class="comment">// Generic Tag Read: reads in a 1 character tag.</span>
00230 <span class="comment">//-----------------------------------------------------------------------//</span>
00231 
<a name="l00232"></a><a class="code" href="classDataIn.html#a5">00232</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a5">DataIn::ReadTags</a>(<span class="keywordtype">int</span> size) {
00233 
00234   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;size; i++) {
00235     * <a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; <a class="code" href="classDataIn.html#o8">tag</a>;
00236   }
00237 }
00238 
00239 
00240 <span class="comment">//-----------------------------------------------------------------------//</span>
00241 <span class="comment">//</span>
00242 <span class="comment">// Generic Float Read: reads in a float vector of given size.</span>
00243 <span class="comment">//-----------------------------------------------------------------------//</span>
00244 
<a name="l00245"></a><a class="code" href="classDataIn.html#a9">00245</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a9">DataIn::GenFloats</a>(<span class="keywordtype">int</span> size) {
00246   
00247   <span class="keywordflow">if</span>(size &gt; 100) {
00248     cerr &lt;&lt; <span class="stringliteral">"DataIn::GenFloat - size ="</span> &lt;&lt; size &lt;&lt; <span class="stringliteral">" &gt; 100"</span> &lt;&lt; endl;
00249     exit(1);
00250   }
00251 
00252   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++) {
00253     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; <a class="code" href="classDataIn.html#o3">gFloatVect</a>[i];
00254   }
00255 }
00256 
00257 
00258 <span class="comment">//-----------------------------------------------------------------------//</span>
00259 <span class="comment">//</span>
00260 <span class="comment">// Generic Int Read: reads in an integer vector of given size.</span>
00261 <span class="comment">//-----------------------------------------------------------------------//</span>
00262 
<a name="l00263"></a><a class="code" href="classDataIn.html#a8">00263</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a8">DataIn::GenInts</a>(<span class="keywordtype">int</span> size) {
00264 
00265   <span class="keywordflow">if</span>(size &gt; 100) {
00266     cerr &lt;&lt; <span class="stringliteral">"DataIn::GenInt - size ="</span> &lt;&lt; size &lt;&lt; <span class="stringliteral">" &gt; 100"</span> &lt;&lt; endl;
00267     exit(1);
00268   }
00269 
00270   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++) {
00271     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; <a class="code" href="classDataIn.html#o1">gIntVect</a>[i];
00272   }
00273 }
00274     
00275     
00276 <span class="comment">//-----------------------------------------------------------------------//</span>
00277 <span class="comment">//</span>
00278 <span class="comment">// Generic Read Chars: reads in a Character vector of given size.</span>
00279 <span class="comment">//-----------------------------------------------------------------------//</span>
00280 
<a name="l00281"></a><a class="code" href="classDataIn.html#a10">00281</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a10">DataIn::GenChars</a>(<span class="keywordtype">int</span> size) {
00282   this-&gt;<a class="code" href="classDataIn.html#o10">nameSize</a> = size;
00283 
00284   <span class="keywordflow">if</span>(size &gt; 100) {
00285     cerr &lt;&lt; <span class="stringliteral">"DataIn::GenChars - size ="</span> &lt;&lt; size &lt;&lt; <span class="stringliteral">" &gt; 100"</span> &lt;&lt; endl;
00286     exit(1);
00287   }
00288 
00289   *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw (30);
00290   this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a> = <span class="keyword">new</span> <span class="keywordtype">char</span> *[<a class="code" href="classDataIn.html#o10">nameSize</a>];
00291 
00292   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classDataIn.html#o10">nameSize</a>; i++) {
00293     this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a>[i] = <span class="keyword">new</span> <span class="keywordtype">char</span>[30];
00294     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; <a class="code" href="classDataIn.html#o16">nameOf</a>[i];
00295   }
00296 }
00297 
00298 
00299 <span class="comment">//-----------------------------------------------------------------------//</span>
00300 <span class="comment">//</span>
00301 <span class="comment">// ReadInt: reads in an integer vector.</span>
00302 <span class="comment">//-----------------------------------------------------------------------//</span>
00303 
<a name="l00304"></a><a class="code" href="classDataIn.html#a11">00304</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a11">DataIn::ReadInts</a>(<span class="keywordtype">int</span> size) {
00305   <span class="keywordflow">if</span>(size &gt; 100) {
00306     cerr &lt;&lt; <span class="stringliteral">"DataIn::ReadInts - size ="</span> &lt;&lt; size &lt;&lt; <span class="stringliteral">" &gt; 100"</span> &lt;&lt; endl;
00307     exit(1);
00308   }
00309 
00310   *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw (11) &gt;&gt; <a class="code" href="classDataIn.html#o6">dummy</a>;
00311 
00312   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++) {
00313     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw(8) &gt;&gt; <a class="code" href="classDataIn.html#o0">intVect</a>[i];
00314   }
00315 }
00316 
00317 
00318 <span class="comment">//-----------------------------------------------------------------------//</span>
00319 <span class="comment">//</span>
00320 <span class="comment">// ReadVarInt: reads in an integer vector.</span>
00321 <span class="comment">//-----------------------------------------------------------------------//</span>
00322 
<a name="l00323"></a><a class="code" href="classDataIn.html#a12">00323</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a12">DataIn::ReadVarInts</a>(<span class="keywordtype">int</span> size, <span class="keywordtype">int</span> width) {
00324   <span class="keywordflow">if</span>(size &gt; 100) {
00325     cerr &lt;&lt; <span class="stringliteral">"DataIn::ReadInts - size ="</span> &lt;&lt; size &lt;&lt; <span class="stringliteral">" &gt; 100"</span> &lt;&lt; endl;
00326     exit(1);
00327   }
00328     
00329   *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw (11) &gt;&gt; <a class="code" href="classDataIn.html#o6">dummy</a>;
00330 
00331   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++) {
00332     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw(width) &gt;&gt; <a class="code" href="classDataIn.html#o0">intVect</a>[i];
00333   }
00334 }
00335 
00336 
00337 <span class="comment">//-----------------------------------------------------------------------//</span>
00338 <span class="comment">//</span>
00339 <span class="comment">// ReadVector: reads in floats.</span>
00340 <span class="comment">//-----------------------------------------------------------------------//</span>
00341 
<a name="l00342"></a><a class="code" href="classDataIn.html#a13">00342</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a13">DataIn::ReadFloats</a>(<span class="keywordtype">int</span> size) {
00343   <span class="keywordflow">if</span>(size &gt; 100) {
00344     cerr &lt;&lt; <span class="stringliteral">"DataIn::ReadFloats - size ="</span> &lt;&lt; size &lt;&lt; <span class="stringliteral">" &gt; 100"</span> &lt;&lt; endl;
00345     exit(1);
00346   }
00347 
00348   
00349   <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;setf (ios::showpoint | ios::fixed);
00350 
00351   *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw (11) &gt;&gt; <a class="code" href="classDataIn.html#o6">dummy</a>; 
00352 
00353   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++) {
00354     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw(8) &gt;&gt; setprecision(5) &gt;&gt; <a class="code" href="classDataIn.html#o2">floatVect</a>[i];
00355   }
00356 }
00357 
00358 
00359 <span class="comment">//-----------------------------------------------------------------------//</span>
00360 <span class="comment">//</span>
00361 <span class="comment">// Read Long Floats</span>
00362 <span class="comment">//-----------------------------------------------------------------------//</span>
00363 
<a name="l00364"></a><a class="code" href="classDataIn.html#a14">00364</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a14">DataIn::ReadFLong</a>(<span class="keywordtype">int</span> size) {
00365   <span class="keywordflow">if</span>(size &gt; 100) {
00366     cerr &lt;&lt; <span class="stringliteral">"DataIn::ReadFLong - size ="</span> &lt;&lt; size &lt;&lt; <span class="stringliteral">" &gt; 100"</span> &lt;&lt; endl;
00367     exit(1);
00368   }
00369 
00370   <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;setf (ios::showpoint | ios::fixed);
00371 
00372   *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw (11) &gt;&gt; <a class="code" href="classDataIn.html#o6">dummy</a>;
00373 
00374   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; size; i++) {
00375     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw(11) &gt;&gt; setprecision(5) &gt;&gt; <a class="code" href="classDataIn.html#o4">longVect</a>[i];
00376   }
00377 }
00378 
00379 
00380 <span class="comment">//-----------------------------------------------------------------------//</span>
00381 <span class="comment">//</span>
00382 <span class="comment">// ReadArray: reads in floats (alternating locations and values).</span>
00383 <span class="comment">//-----------------------------------------------------------------------//</span>
00384 
<a name="l00385"></a><a class="code" href="classDataIn.html#a15">00385</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a15">DataIn::ReadArray</a>(<span class="keywordtype">int</span> arraySize) {
00386   <span class="keywordtype">int</span> location;
00387   <span class="keywordtype">float</span> fLocation, value;
00388 
00389   <span class="keywordflow">if</span> ( arraySize &gt; 500) {
00390     cerr &lt;&lt; <span class="stringliteral">"DataIn::ReadArray: arraySize too big! ("</span> &lt;&lt;
00391      arraySize &lt;&lt; <span class="stringliteral">")"</span> &lt;&lt; endl;
00392     exit(1);
00393   }
00394 
00395   <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;setf (ios::showpoint | ios::fixed);
00396 
00397   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; arraySize; i++) {
00398     <a class="code" href="classDataIn.html#o13">array</a>[i] = 0;
00399   }
00400 
00401   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j = 1; j &lt;= 25; j++) {
00402     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw (11) &gt;&gt; <a class="code" href="classDataIn.html#o6">dummy</a> &gt;&gt; setw (8);
00403 
00404     <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 4; i++) {
00405       *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; fLocation &gt;&gt; value;
00406       location = int(floor(fLocation * (arraySize - 1) + 0.5));
00407 
00408       <span class="keywordflow">if</span> ( location &gt; arraySize ) {
00409     cerr &lt;&lt; <span class="stringliteral">"DataIn::ReadArray: location= "</span> &lt;&lt; location &lt;&lt;
00410          <span class="stringliteral">" &gt; arraySize= "</span> &lt;&lt; arraySize &lt;&lt; endl;
00411         exit(1);
00412       }
00413 
00414       <a class="code" href="classDataIn.html#o13">array</a> [location] = value;
00415       <span class="keywordflow">if</span>(location == arraySize - 1) <span class="keywordflow">return</span>;
00416     }
00417   }
00418 }
00419 
00420 
00421 <span class="comment">//-----------------------------------------------------------------------//</span>
00422 <span class="comment">//</span>
00423 <span class="comment">// ReadChars: reads in character arrays</span>
00424 <span class="comment">//-----------------------------------------------------------------------//</span>
00425 
<a name="l00426"></a><a class="code" href="classDataIn.html#a16">00426</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a16">DataIn::ReadChars</a>(<span class="keywordtype">int</span> size) {
00427   this-&gt;<a class="code" href="classDataIn.html#o10">nameSize</a> = size;
00428 
00429   *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw (11) &gt;&gt; <a class="code" href="classDataIn.html#o6">dummy</a> &gt;&gt; setw (30);
00430   this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a> = <span class="keyword">new</span> <span class="keywordtype">char</span> *[<a class="code" href="classDataIn.html#o10">nameSize</a>];
00431 
00432   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classDataIn.html#o10">nameSize</a>; i++) {
00433     this-&gt;<a class="code" href="classDataIn.html#o16">nameOf</a>[i] = <span class="keyword">new</span> <span class="keywordtype">char</span>[30]; 
00434     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; <a class="code" href="classDataIn.html#o16">nameOf</a>[i];
00435   }
00436 }
00437 
00438 
00439 <span class="comment">//-----------------------------------------------------------------------//</span>
00440 <span class="comment">//</span>
00441 <span class="comment">// ReadChars2: reads in character arrays</span>
00442 <span class="comment">//-----------------------------------------------------------------------//</span>
00443 
<a name="l00444"></a><a class="code" href="classDataIn.html#a17">00444</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a17">DataIn::ReadChars2</a>(<span class="keywordtype">int</span> size) {
00445   this-&gt;<a class="code" href="classDataIn.html#o10">nameSize</a> = size;
00446 
00447   *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; setw (11) &gt;&gt; <a class="code" href="classDataIn.html#o6">dummy</a> &gt;&gt; setw (30);
00448   this-&gt;<a class="code" href="classDataIn.html#o17">nameOf2</a> = <span class="keyword">new</span> <span class="keywordtype">char</span> *[<a class="code" href="classDataIn.html#o10">nameSize</a>];
00449 
00450   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="classDataIn.html#o10">nameSize</a>; i++) {
00451     this-&gt;<a class="code" href="classDataIn.html#o17">nameOf2</a>[i] = <span class="keyword">new</span> (<span class="keywordtype">char</span>); 
00452     *<a class="code" href="classDataIn.html#s0">inputFile</a> &gt;&gt; <a class="code" href="classDataIn.html#o17">nameOf2</a>[i];
00453   }
00454 }
00455 
00456 
00457 <span class="comment">//-----------------------------------------------------------------------//</span>
00458 <span class="comment">//</span>
00459 <span class="comment">// SkipLines.  Skips a number of 80 characthers lines</span>
00460 <span class="comment">//-----------------------------------------------------------------------//</span>
00461 
<a name="l00462"></a><a class="code" href="classDataIn.html#a23">00462</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a23">DataIn::Skip</a>(<span class="keywordtype">int</span> size) {
00463   
00464   <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt;= size; i++) {
00465     <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;getline(<a class="code" href="classDataIn.html#o5">buffer</a>, 90);
00466 <span class="comment">//  cout &lt;&lt; "this we skip: " &lt;&lt; buffer &lt;&lt; endl;</span>
00467   }
00468 }
00469 
00470 
00471 <span class="comment">//-----------------------------------------------------------------------//</span>
00472 <span class="comment">//</span>
00473 <span class="comment">// ReadBuffer.  Reads a 80 character line.</span>
00474 <span class="comment">//-----------------------------------------------------------------------//</span>
00475 
<a name="l00476"></a><a class="code" href="classDataIn.html#a24">00476</a> <span class="keywordtype">void</span> <a class="code" href="classDataIn.html#a24">DataIn::ReadBuffer</a>() {
00477 
00478   <a class="code" href="classDataIn.html#s0">inputFile</a>-&gt;getline(<a class="code" href="classDataIn.html#o5">buffer</a>, 80);
00479 <span class="comment">//cout &lt;&lt; "this we read: " &lt;&lt; buffer &lt;&lt; endl;</span>
00480 }
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Mon Feb 12 14:24:37 2007 for CMOD by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
